<!DOCTYPE html>
<meta charset="utf-8">
<body>
  <div id="scanner-container" ></div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
  
</body>    


<script>

   $(function(){
     
     Quagga.init({
            inputStream : {
              name : "Live",
              type : "LiveStream",
              target: document.querySelector('#scanner-container') ,   // Or '#yourElement' (optional)
            },
            decoder : {
              readers : ["code_128_reader"],
            },
          }, function(err) {
              if (err) {
                  console.log(err);
                  return
              }
              console.log("Initialization finished. Ready to start");
              Quagga.start();
          });

        /*var barcode="";
        $(document).keydown(function(e) {

            var code = (e.keyCode ? e.keyCode : e.which);
            if(code==13)// Enter key hit
            {
                alert(barcode);
            }
            else if(code==9)// Tab key hit
            {
                alert(barcode);
            }
            else
            {
                barcode=barcode+String.fromCharCode(code);
            }
        });*/

   });

   Quagga.onProcessed(function(result) {
        var drawingCtx = Quagga.canvas.ctx.overlay,
            drawingCanvas = Quagga.canvas.dom.overlay;

        if (result) {
            
            if (result.boxes) {
                drawingCtx.clearRect(0, 0, parseInt(drawingCanvas.getAttribute("width")), parseInt(drawingCanvas.getAttribute("height")));
                result.boxes.filter(function (box) {
                    return box !== result.box;
                }).forEach(function (box) {
                    Quagga.ImageDebug.drawPath(box, {x: 0, y: 1}, drawingCtx, {color: "green", lineWidth: 2});
                });
            }
            if (result.box) {
                Quagga.ImageDebug.drawPath(result.box, {x: 0, y: 1}, drawingCtx, {color: "#00F", lineWidth: 2});
            }

            if (result.codeResult && result.codeResult.code) {
                
                Quagga.ImageDebug.drawPath(result.line, {x: 'x', y: 'y'}, drawingCtx, {color: 'red', lineWidth: 3});
            }
        }
    });

   Quagga.onDetected(function(result) {
        var code = result.codeResult;
        alert(code);
        
    });

   /*Quagga.decodeSingle({
        decoder: {
            /*readers: ["code_128_reader","code_39_vin_reader","ean_reader","ean_8_reader","code_39_reader","codabar_reader","upc_reader","upc_e_reader","i2of5_reader","2of5_reader","code_93_reader"] // List of active readers
            },
            readers: ["code_128_reader"] // List of active readers
            },
            locate: true, // try to locate the barcode in the image
            src: 'barcode1.png', // or 'data:image/jpg;base64,' + data
        }, function(result){
            if(result.codeResult) {
                console.log("result", result.codeResult.code);
            } else {
                console.log("not detected");
            }
        });*/

</script>
